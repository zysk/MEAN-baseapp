"use strict";(self.webpackChunkangular_baseapp=self.webpackChunkangular_baseapp||[]).push([[617],{6617:(M,l,n)=>{n.r(l),n.d(l,{UserModule:()=>F});var p=n(6895),i=n(6327),s=n(1571),u=n(8423),c=n(7047);let f=(()=>{class t{constructor(e,r,a){this._router=e,this._spinner=r,this._dataShare=a}canActivate(e,r){return this._spinner.show(),!!this._dataShare.loggedInUserDetails||(this._spinner.hide(),this._router.navigate(["/home/login"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(i.F0),s.LFG(u.t2),s.LFG(c._))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();var h=n(2722),m=n(7579),v=n(5226),d=n.n(v),y=n(3374),U=n(6938);let g=(()=>{class t{constructor(e,r,a,I,L){this._router=e,this._spinner=r,this._apiConfig=a,this._dataShare=I,this._httpClient=L,this._destroy$=new m.x}ngOnInit(){this._spinner.hide()}login(){this._spinner.show(),this._httpClient.postRequest(this._apiConfig.API.login,{username:"",password:""}).pipe((0,h.R)(this._destroy$)).subscribe(e=>{"Success"===e.status?(localStorage.setItem("access-token",e.response_body.accessToken),this.getLoggedInUserDetails()):(d().fire({title:"Oops",text:e.response_body.message,icon:"error"}),this._router.navigate(["/login"]))})}getLoggedInUserDetails(){this._httpClient.getRequest(this._apiConfig.API.loggedInUser).pipe((0,h.R)(this._destroy$)).subscribe(e=>{"Success"===e.status?(this._dataShare.loggedInUserDetails=e.response_body.data,this._router.navigate(["/home/provide-route"])):d().fire({title:"Oops",text:e.response_body.message,icon:"error"})})}ngOnDestroy(){this._destroy$.next(!0),this._destroy$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(i.F0),s.Y36(u.t2),s.Y36(y.w),s.Y36(c._),s.Y36(U.r))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-login"]],decls:2,vars:0,consts:[[1,"h-100","position-relative","d-flex","justify-content-center","align-content-center"]],template:function(e,r){1&e&&(s.TgZ(0,"div",0),s._uU(1,"Hello! World..."),s.qZA())}}),t})();const C=[{path:"login",component:g},{path:"dashboard",component:g,canActivate:[f]},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login",pathMatch:"full"}];let R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[i.Bz.forChild(C),i.Bz]}),t})();var S=n(2271);let F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[p.ez,R,S.m]}),t})()}}]);